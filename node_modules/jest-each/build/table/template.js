'use strict';

Object.defineProperty(exports, '__esModule', {
  value: true
});
exports.default = template;
<<<<<<< HEAD

var _interpolation = require('./interpolation');

/**
 * Copyright (c) Facebook, Inc. and its affiliates. All Rights Reserved.
=======
var _interpolation = require('./interpolation');
/**
 * Copyright (c) Meta Platforms, Inc. and affiliates.
>>>>>>> 0df6b5ffd0a73ba47ae7921ccf86e80e012f120e
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 */
<<<<<<< HEAD
=======

>>>>>>> 0df6b5ffd0a73ba47ae7921ccf86e80e012f120e
function template(title, headings, row) {
  const table = convertRowToTable(row, headings);
  const templates = convertTableToTemplates(table, headings);
  return templates.map((template, index) => ({
    arguments: [template],
    title: (0, _interpolation.interpolateVariables)(title, template, index)
  }));
}
<<<<<<< HEAD

const convertRowToTable = (row, headings) =>
  Array.from({
    length: row.length / headings.length
  }).map((_, index) =>
    row.slice(
      index * headings.length,
      index * headings.length + headings.length
    )
  );

=======
const convertRowToTable = (row, headings) =>
  Array.from(
    {
      length: row.length / headings.length
    },
    (_, index) =>
      row.slice(
        index * headings.length,
        index * headings.length + headings.length
      )
  );
>>>>>>> 0df6b5ffd0a73ba47ae7921ccf86e80e012f120e
const convertTableToTemplates = (table, headings) =>
  table.map(row =>
    row.reduce(
      (acc, value, index) =>
        Object.assign(acc, {
          [headings[index]]: value
        }),
      {}
    )
  );
